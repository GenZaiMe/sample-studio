---
/**
 * ファイル: /src/pages/gz/index.astro
 * 役割: テーマ提供元（GenZai）トップ（/gz）
 *
 * Astro v5:
 * - entry.render() ではなく render(entry) を使用
 *
 * index の特定:
 * - id === "index.md" を優先（環境差に強い）
 */
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection, getEntry, render } from "astro:content";

const pages = await getCollection("gz");
const base = pages.find((p) => p.id === "index.md") || pages[0];

if (!base) {
  throw new Error("gz のエントリが見つかりません（src/content/genzaime/ を確認）");
}

const entry = await getEntry("gz", base.id);
const { Content } = await render(entry);
const view = entry.data.view ?? "page";
---

<BaseLayout view={view} title={entry.data.title} description={entry.data.description ?? ""}>
  <article class="pz-block pz-md">
    <div class="mt-6"><Content /></div>
  </article>
</BaseLayout>
