---
/**
 * ファイル: /src/pages/index.astro
 * 役割: HOME（中央カラムの「ブロック積み上げ」）
 *
 * - HOME_BLOCKS に従って、op/bg/db の順に表示
 * - 今後、ブロック種別を増やしても分岐を追加するだけで拡張できる
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import SearchBar from "../components/ui/SearchBar.astro";
import Tabs from "../components/ui/Tabs.astro";
import KnowledgePanel from "../components/op/KnowledgePanel.astro";
import PostList from "../components/bg/PostList.astro";
import ItemCard from "../components/db/ItemCard.astro";
import { HOME_BLOCKS } from "../consts/consts";
---

<BaseLayout view="list" title="Home" description="Console Blocks Home">
  <div class="space-y-4">
<!--
// 検索機能やタブ機能
    <div class="pz-block">
      <SearchBar />
      <div class="mt-3"><Tabs /></div>
    </div>
-->
    {HOME_BLOCKS.map((b) => {
      if (b.kind === "op") return <KnowledgePanel />;
//      if (b.kind === "bg") return <PostList limit={5} />;
//      if (b.kind === "db") return <ItemCard />;
      return null;
    })}
  </div>
</BaseLayout>
